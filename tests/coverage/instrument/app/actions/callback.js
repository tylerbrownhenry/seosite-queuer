
var __cov_UEv4ON9KkVwu7ut0UM__eA = (Function('return this'))();
if (!__cov_UEv4ON9KkVwu7ut0UM__eA.__coverage__) { __cov_UEv4ON9KkVwu7ut0UM__eA.__coverage__ = {}; }
__cov_UEv4ON9KkVwu7ut0UM__eA = __cov_UEv4ON9KkVwu7ut0UM__eA.__coverage__;
if (!(__cov_UEv4ON9KkVwu7ut0UM__eA['app/actions/callback.js'])) {
   __cov_UEv4ON9KkVwu7ut0UM__eA['app/actions/callback.js'] = {"path":"app/actions/callback.js","s":{"1":0,"2":1,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0},"b":{},"f":{"1":0,"2":0,"3":0},"fnMap":{"1":{"name":"callback","line":7,"loc":{"start":{"line":7,"column":0},"end":{"line":7,"column":24}}},"2":{"name":"(anonymous_2)","line":22,"loc":{"start":{"line":22,"column":16},"end":{"line":22,"column":38}}},"3":{"name":"(anonymous_3)","line":39,"loc":{"start":{"line":39,"column":85},"end":{"line":39,"column":98}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":5,"column":40}},"2":{"start":{"line":7,"column":0},"end":{"line":82,"column":1}},"3":{"start":{"line":8,"column":5},"end":{"line":8,"column":54}},"4":{"start":{"line":10,"column":5},"end":{"line":20,"column":8}},"5":{"start":{"line":22,"column":5},"end":{"line":24,"column":8}},"6":{"start":{"line":23,"column":10},"end":{"line":23,"column":38}},"7":{"start":{"line":26,"column":5},"end":{"line":35,"column":8}},"8":{"start":{"line":37,"column":5},"end":{"line":37,"column":39}},"9":{"start":{"line":39,"column":5},"end":{"line":41,"column":8}},"10":{"start":{"line":40,"column":10},"end":{"line":40,"column":71}},"11":{"start":{"line":43,"column":5},"end":{"line":43,"column":11}},"12":{"start":{"line":84,"column":0},"end":{"line":84,"column":26}}},"branchMap":{}};
}
__cov_UEv4ON9KkVwu7ut0UM__eA = __cov_UEv4ON9KkVwu7ut0UM__eA['app/actions/callback.js'];
__cov_UEv4ON9KkVwu7ut0UM__eA.s['1']++;var http=require('http'),sh=require('shorthash'),querystring=require('querystring'),publisher=require('../amqp-connections/publisher'),Alert=require('../models/alert');function callback(data){__cov_UEv4ON9KkVwu7ut0UM__eA.f['1']++;__cov_UEv4ON9KkVwu7ut0UM__eA.s['3']++;console.log('actions/callback.js callback',data);__cov_UEv4ON9KkVwu7ut0UM__eA.s['4']++;var alert=new Alert({alertId:sh.unique(new Date()+data.uid),message:data.message,uid:data.uid,page:data.page,type:data.type,status:data.status,requestDate:Date(),temp_id:data.temp_id,i_id:data.i_id});__cov_UEv4ON9KkVwu7ut0UM__eA.s['5']++;alert.save(function(err,model){__cov_UEv4ON9KkVwu7ut0UM__eA.f['2']++;__cov_UEv4ON9KkVwu7ut0UM__eA.s['6']++;console.log('Alert saved!');});__cov_UEv4ON9KkVwu7ut0UM__eA.s['7']++;var postData=querystring.stringify({uid:data.uid,page:data.page});__cov_UEv4ON9KkVwu7ut0UM__eA.s['8']++;console.log('postData',postData);__cov_UEv4ON9KkVwu7ut0UM__eA.s['9']++;publisher.publish('','alert',new Buffer(JSON.stringify({uid:data.uid}))).then(function(e){__cov_UEv4ON9KkVwu7ut0UM__eA.f['3']++;__cov_UEv4ON9KkVwu7ut0UM__eA.s['10']++;console.log('actions/callback.js published alert for uid',e);});__cov_UEv4ON9KkVwu7ut0UM__eA.s['11']++;return;}__cov_UEv4ON9KkVwu7ut0UM__eA.s['12']++;module.exports=callback;
