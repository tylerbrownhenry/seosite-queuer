"use strict";
var __cov_Q7cWfX_u2RZthWnYTWLpZA = (Function('return this'))();
if (!__cov_Q7cWfX_u2RZthWnYTWLpZA.__coverage__) { __cov_Q7cWfX_u2RZthWnYTWLpZA.__coverage__ = {}; }
__cov_Q7cWfX_u2RZthWnYTWLpZA = __cov_Q7cWfX_u2RZthWnYTWLpZA.__coverage__;
if (!(__cov_Q7cWfX_u2RZthWnYTWLpZA['app/actions/scanPage/internal/urlCache.js'])) {
   __cov_Q7cWfX_u2RZthWnYTWLpZA['app/actions/scanPage/internal/urlCache.js'] = {"path":"app/actions/scanPage/internal/urlCache.js","s":{"1":0,"2":0,"3":0,"4":1,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":1,"34":0,"35":0,"36":0,"37":1,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":1,"48":0,"49":0,"50":0,"51":0,"52":1,"53":0,"54":0,"55":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0},"fnMap":{"1":{"name":"UrlCache","line":12,"loc":{"start":{"line":12,"column":0},"end":{"line":12,"column":27}}},"2":{"name":"(anonymous_2)","line":17,"loc":{"start":{"line":17,"column":27},"end":{"line":17,"column":42}}},"3":{"name":"(anonymous_3)","line":33,"loc":{"start":{"line":33,"column":25},"end":{"line":33,"column":40}}},"4":{"name":"(anonymous_4)","line":39,"loc":{"start":{"line":39,"column":28},"end":{"line":39,"column":40}}},"5":{"name":"(anonymous_5)","line":43,"loc":{"start":{"line":43,"column":25},"end":{"line":43,"column":59}}},"6":{"name":"formatUrl","line":61,"loc":{"start":{"line":61,"column":0},"end":{"line":61,"column":33}}},"7":{"name":"parseUrl","line":68,"loc":{"start":{"line":68,"column":0},"end":{"line":68,"column":32}}},"8":{"name":"removeExpired","line":91,"loc":{"start":{"line":91,"column":0},"end":{"line":91,"column":46}}},"9":{"name":"stringifyUrl","line":100,"loc":{"start":{"line":100,"column":0},"end":{"line":100,"column":27}}}},"statementMap":{"1":{"start":{"line":2,"column":0},"end":{"line":2,"column":28}},"2":{"start":{"line":3,"column":0},"end":{"line":3,"column":31}},"3":{"start":{"line":5,"column":0},"end":{"line":10,"column":2}},"4":{"start":{"line":12,"column":0},"end":{"line":15,"column":1}},"5":{"start":{"line":13,"column":5},"end":{"line":13,"column":63}},"6":{"start":{"line":14,"column":5},"end":{"line":14,"column":18}},"7":{"start":{"line":17,"column":0},"end":{"line":31,"column":2}},"8":{"start":{"line":18,"column":5},"end":{"line":30,"column":6}},"9":{"start":{"line":19,"column":10},"end":{"line":19,"column":44}},"10":{"start":{"line":20,"column":10},"end":{"line":20,"column":34}},"11":{"start":{"line":21,"column":10},"end":{"line":25,"column":11}},"12":{"start":{"line":22,"column":15},"end":{"line":22,"column":41}},"13":{"start":{"line":23,"column":15},"end":{"line":23,"column":39}},"14":{"start":{"line":24,"column":15},"end":{"line":24,"column":28}},"15":{"start":{"line":27,"column":10},"end":{"line":27,"column":25}},"16":{"start":{"line":28,"column":10},"end":{"line":28,"column":29}},"17":{"start":{"line":29,"column":10},"end":{"line":29,"column":27}},"18":{"start":{"line":33,"column":0},"end":{"line":37,"column":2}},"19":{"start":{"line":34,"column":5},"end":{"line":34,"column":40}},"20":{"start":{"line":35,"column":5},"end":{"line":35,"column":52}},"21":{"start":{"line":36,"column":5},"end":{"line":36,"column":29}},"22":{"start":{"line":39,"column":0},"end":{"line":41,"column":2}},"23":{"start":{"line":40,"column":5},"end":{"line":40,"column":23}},"24":{"start":{"line":43,"column":0},"end":{"line":57,"column":2}},"25":{"start":{"line":45,"column":5},"end":{"line":45,"column":37}},"26":{"start":{"line":45,"column":30},"end":{"line":45,"column":37}},"27":{"start":{"line":47,"column":5},"end":{"line":47,"column":40}},"28":{"start":{"line":49,"column":5},"end":{"line":51,"column":6}},"29":{"start":{"line":50,"column":10},"end":{"line":50,"column":47}},"30":{"start":{"line":53,"column":5},"end":{"line":53,"column":50}},"31":{"start":{"line":54,"column":5},"end":{"line":54,"column":30}},"32":{"start":{"line":56,"column":5},"end":{"line":56,"column":18}},"33":{"start":{"line":61,"column":0},"end":{"line":66,"column":1}},"34":{"start":{"line":62,"column":5},"end":{"line":62,"column":34}},"35":{"start":{"line":63,"column":5},"end":{"line":63,"column":29}},"36":{"start":{"line":65,"column":5},"end":{"line":65,"column":16}},"37":{"start":{"line":68,"column":0},"end":{"line":89,"column":1}},"38":{"start":{"line":69,"column":5},"end":{"line":76,"column":6}},"39":{"start":{"line":70,"column":10},"end":{"line":72,"column":13}},"40":{"start":{"line":75,"column":10},"end":{"line":75,"column":34}},"41":{"start":{"line":78,"column":5},"end":{"line":81,"column":6}},"42":{"start":{"line":80,"column":10},"end":{"line":80,"column":32}},"43":{"start":{"line":83,"column":5},"end":{"line":87,"column":6}},"44":{"start":{"line":85,"column":10},"end":{"line":85,"column":26}},"45":{"start":{"line":86,"column":10},"end":{"line":86,"column":39}},"46":{"start":{"line":88,"column":5},"end":{"line":88,"column":16}},"47":{"start":{"line":91,"column":0},"end":{"line":98,"column":1}},"48":{"start":{"line":92,"column":5},"end":{"line":97,"column":6}},"49":{"start":{"line":93,"column":10},"end":{"line":96,"column":11}},"50":{"start":{"line":94,"column":15},"end":{"line":94,"column":36}},"51":{"start":{"line":95,"column":15},"end":{"line":95,"column":34}},"52":{"start":{"line":100,"column":0},"end":{"line":104,"column":1}},"53":{"start":{"line":101,"column":5},"end":{"line":103,"column":6}},"54":{"start":{"line":102,"column":10},"end":{"line":102,"column":36}},"55":{"start":{"line":106,"column":0},"end":{"line":106,"column":26}}},"branchMap":{"1":{"line":18,"type":"if","locations":[{"start":{"line":18,"column":5},"end":{"line":18,"column":5}},{"start":{"line":18,"column":5},"end":{"line":18,"column":5}}]},"2":{"line":21,"type":"if","locations":[{"start":{"line":21,"column":10},"end":{"line":21,"column":10}},{"start":{"line":21,"column":10},"end":{"line":21,"column":10}}]},"3":{"line":45,"type":"if","locations":[{"start":{"line":45,"column":5},"end":{"line":45,"column":5}},{"start":{"line":45,"column":5},"end":{"line":45,"column":5}}]},"4":{"line":49,"type":"if","locations":[{"start":{"line":49,"column":5},"end":{"line":49,"column":5}},{"start":{"line":49,"column":5},"end":{"line":49,"column":5}}]},"5":{"line":69,"type":"if","locations":[{"start":{"line":69,"column":5},"end":{"line":69,"column":5}},{"start":{"line":69,"column":5},"end":{"line":69,"column":5}}]},"6":{"line":78,"type":"if","locations":[{"start":{"line":78,"column":5},"end":{"line":78,"column":5}},{"start":{"line":78,"column":5},"end":{"line":78,"column":5}}]},"7":{"line":83,"type":"if","locations":[{"start":{"line":83,"column":5},"end":{"line":83,"column":5}},{"start":{"line":83,"column":5},"end":{"line":83,"column":5}}]},"8":{"line":83,"type":"binary-expr","locations":[{"start":{"line":83,"column":9},"end":{"line":83,"column":40}},{"start":{"line":83,"column":44},"end":{"line":83,"column":60}}]},"9":{"line":92,"type":"if","locations":[{"start":{"line":92,"column":5},"end":{"line":92,"column":5}},{"start":{"line":92,"column":5},"end":{"line":92,"column":5}}]},"10":{"line":93,"type":"if","locations":[{"start":{"line":93,"column":10},"end":{"line":93,"column":10}},{"start":{"line":93,"column":10},"end":{"line":93,"column":10}}]},"11":{"line":101,"type":"if","locations":[{"start":{"line":101,"column":5},"end":{"line":101,"column":5}},{"start":{"line":101,"column":5},"end":{"line":101,"column":5}}]},"12":{"line":101,"type":"binary-expr","locations":[{"start":{"line":101,"column":9},"end":{"line":101,"column":21}},{"start":{"line":101,"column":25},"end":{"line":101,"column":48}},{"start":{"line":101,"column":52},"end":{"line":101,"column":83}}]}}};
}
__cov_Q7cWfX_u2RZthWnYTWLpZA = __cov_Q7cWfX_u2RZthWnYTWLpZA['app/actions/scanPage/internal/urlCache.js'];
__cov_Q7cWfX_u2RZthWnYTWLpZA.s['1']++;var urllib=require('url');__cov_Q7cWfX_u2RZthWnYTWLpZA.s['2']++;var urlobj=require('urlobj');__cov_Q7cWfX_u2RZthWnYTWLpZA.s['3']++;var defaultOptions={defaultPorts:null,expiryTime:Infinity,normalizeUrls:true,stripUrlHashes:true};function UrlCache(options){__cov_Q7cWfX_u2RZthWnYTWLpZA.f['1']++;__cov_Q7cWfX_u2RZthWnYTWLpZA.s['5']++;this.options=Object.assign({},defaultOptions,options);__cov_Q7cWfX_u2RZthWnYTWLpZA.s['6']++;this.clear();}__cov_Q7cWfX_u2RZthWnYTWLpZA.s['7']++;UrlCache.prototype.clear=function(url){__cov_Q7cWfX_u2RZthWnYTWLpZA.f['2']++;__cov_Q7cWfX_u2RZthWnYTWLpZA.s['8']++;if(url!=null){__cov_Q7cWfX_u2RZthWnYTWLpZA.b['1'][0]++;__cov_Q7cWfX_u2RZthWnYTWLpZA.s['9']++;url=parseUrl(url,this.options);__cov_Q7cWfX_u2RZthWnYTWLpZA.s['10']++;url=stringifyUrl(url);__cov_Q7cWfX_u2RZthWnYTWLpZA.s['11']++;if(this.values[url]!==undefined){__cov_Q7cWfX_u2RZthWnYTWLpZA.b['2'][0]++;__cov_Q7cWfX_u2RZthWnYTWLpZA.s['12']++;delete this.expiries[url];__cov_Q7cWfX_u2RZthWnYTWLpZA.s['13']++;delete this.values[url];__cov_Q7cWfX_u2RZthWnYTWLpZA.s['14']++;this.count--;}else{__cov_Q7cWfX_u2RZthWnYTWLpZA.b['2'][1]++;}}else{__cov_Q7cWfX_u2RZthWnYTWLpZA.b['1'][1]++;__cov_Q7cWfX_u2RZthWnYTWLpZA.s['15']++;this.count=0;__cov_Q7cWfX_u2RZthWnYTWLpZA.s['16']++;this.expiries={};__cov_Q7cWfX_u2RZthWnYTWLpZA.s['17']++;this.values={};}};__cov_Q7cWfX_u2RZthWnYTWLpZA.s['18']++;UrlCache.prototype.get=function(url){__cov_Q7cWfX_u2RZthWnYTWLpZA.f['3']++;__cov_Q7cWfX_u2RZthWnYTWLpZA.s['19']++;url=formatUrl(url,this.options);__cov_Q7cWfX_u2RZthWnYTWLpZA.s['20']++;removeExpired(url,this.expiries,this.values);__cov_Q7cWfX_u2RZthWnYTWLpZA.s['21']++;return this.values[url];};__cov_Q7cWfX_u2RZthWnYTWLpZA.s['22']++;UrlCache.prototype.length=function(){__cov_Q7cWfX_u2RZthWnYTWLpZA.f['4']++;__cov_Q7cWfX_u2RZthWnYTWLpZA.s['23']++;return this.count;};__cov_Q7cWfX_u2RZthWnYTWLpZA.s['24']++;UrlCache.prototype.set=function(url,value,expiryTime){__cov_Q7cWfX_u2RZthWnYTWLpZA.f['5']++;__cov_Q7cWfX_u2RZthWnYTWLpZA.s['25']++;if(value===undefined){__cov_Q7cWfX_u2RZthWnYTWLpZA.b['3'][0]++;__cov_Q7cWfX_u2RZthWnYTWLpZA.s['26']++;return;}else{__cov_Q7cWfX_u2RZthWnYTWLpZA.b['3'][1]++;}__cov_Q7cWfX_u2RZthWnYTWLpZA.s['27']++;url=formatUrl(url,this.options);__cov_Q7cWfX_u2RZthWnYTWLpZA.s['28']++;if(expiryTime==null){__cov_Q7cWfX_u2RZthWnYTWLpZA.b['4'][0]++;__cov_Q7cWfX_u2RZthWnYTWLpZA.s['29']++;expiryTime=this.options.expiryTime;}else{__cov_Q7cWfX_u2RZthWnYTWLpZA.b['4'][1]++;}__cov_Q7cWfX_u2RZthWnYTWLpZA.s['30']++;this.expiries[url]=Date.now()+expiryTime;__cov_Q7cWfX_u2RZthWnYTWLpZA.s['31']++;this.values[url]=value;__cov_Q7cWfX_u2RZthWnYTWLpZA.s['32']++;this.count++;};function formatUrl(url,options){__cov_Q7cWfX_u2RZthWnYTWLpZA.f['6']++;__cov_Q7cWfX_u2RZthWnYTWLpZA.s['34']++;url=parseUrl(url,options);__cov_Q7cWfX_u2RZthWnYTWLpZA.s['35']++;url=stringifyUrl(url);__cov_Q7cWfX_u2RZthWnYTWLpZA.s['36']++;return url;}function parseUrl(url,options){__cov_Q7cWfX_u2RZthWnYTWLpZA.f['7']++;__cov_Q7cWfX_u2RZthWnYTWLpZA.s['38']++;if(options.defaultPorts!=null){__cov_Q7cWfX_u2RZthWnYTWLpZA.b['5'][0]++;__cov_Q7cWfX_u2RZthWnYTWLpZA.s['39']++;url=urlobj.parse(url,{defaultPorts:options.defaultPorts});}else{__cov_Q7cWfX_u2RZthWnYTWLpZA.b['5'][1]++;__cov_Q7cWfX_u2RZthWnYTWLpZA.s['40']++;url=urlobj.parse(url);}__cov_Q7cWfX_u2RZthWnYTWLpZA.s['41']++;if(options.normalizeUrls===true){__cov_Q7cWfX_u2RZthWnYTWLpZA.b['6'][0]++;__cov_Q7cWfX_u2RZthWnYTWLpZA.s['42']++;urlobj.normalize(url);}else{__cov_Q7cWfX_u2RZthWnYTWLpZA.b['6'][1]++;}__cov_Q7cWfX_u2RZthWnYTWLpZA.s['43']++;if((__cov_Q7cWfX_u2RZthWnYTWLpZA.b['8'][0]++,options.stripUrlHashes===true)&&(__cov_Q7cWfX_u2RZthWnYTWLpZA.b['8'][1]++,url.hash!=null)){__cov_Q7cWfX_u2RZthWnYTWLpZA.b['7'][0]++;__cov_Q7cWfX_u2RZthWnYTWLpZA.s['44']++;url.hash=null;__cov_Q7cWfX_u2RZthWnYTWLpZA.s['45']++;url.href=stringifyUrl(url);}else{__cov_Q7cWfX_u2RZthWnYTWLpZA.b['7'][1]++;}__cov_Q7cWfX_u2RZthWnYTWLpZA.s['46']++;return url;}function removeExpired(url,expiries,values){__cov_Q7cWfX_u2RZthWnYTWLpZA.f['8']++;__cov_Q7cWfX_u2RZthWnYTWLpZA.s['48']++;if(values[url]!==undefined){__cov_Q7cWfX_u2RZthWnYTWLpZA.b['9'][0]++;__cov_Q7cWfX_u2RZthWnYTWLpZA.s['49']++;if(expiries[url]<Date.now()){__cov_Q7cWfX_u2RZthWnYTWLpZA.b['10'][0]++;__cov_Q7cWfX_u2RZthWnYTWLpZA.s['50']++;delete expiries[url];__cov_Q7cWfX_u2RZthWnYTWLpZA.s['51']++;delete values[url];}else{__cov_Q7cWfX_u2RZthWnYTWLpZA.b['10'][1]++;}}else{__cov_Q7cWfX_u2RZthWnYTWLpZA.b['9'][1]++;}}function stringifyUrl(url){__cov_Q7cWfX_u2RZthWnYTWLpZA.f['9']++;__cov_Q7cWfX_u2RZthWnYTWLpZA.s['53']++;if((__cov_Q7cWfX_u2RZthWnYTWLpZA.b['12'][0]++,url!==null)&&(__cov_Q7cWfX_u2RZthWnYTWLpZA.b['12'][1]++,typeof url==='object')&&(__cov_Q7cWfX_u2RZthWnYTWLpZA.b['12'][2]++,url instanceof String===false)){__cov_Q7cWfX_u2RZthWnYTWLpZA.b['11'][0]++;__cov_Q7cWfX_u2RZthWnYTWLpZA.s['54']++;return urllib.format(url);}else{__cov_Q7cWfX_u2RZthWnYTWLpZA.b['11'][1]++;}}__cov_Q7cWfX_u2RZthWnYTWLpZA.s['55']++;module.exports=UrlCache;
