
var __cov_xA6lvunLUkRqZFU$G92E2w = (Function('return this'))();
if (!__cov_xA6lvunLUkRqZFU$G92E2w.__coverage__) { __cov_xA6lvunLUkRqZFU$G92E2w.__coverage__ = {}; }
__cov_xA6lvunLUkRqZFU$G92E2w = __cov_xA6lvunLUkRqZFU$G92E2w.__coverage__;
if (!(__cov_xA6lvunLUkRqZFU$G92E2w['app/settings/requests/page/batchUpsert.js'])) {
   __cov_xA6lvunLUkRqZFU$G92E2w['app/settings/requests/page/batchUpsert.js'] = {"path":"app/settings/requests/page/batchUpsert.js","s":{"1":1,"2":0,"3":1,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0},"b":{},"f":{"1":0,"2":0,"3":0},"fnMap":{"1":{"name":"Command","line":10,"loc":{"start":{"line":10,"column":0},"end":{"line":10,"column":76}}},"2":{"name":"createBulkUpdateCommands","line":31,"loc":{"start":{"line":31,"column":0},"end":{"line":31,"column":87}}},"3":{"name":"(anonymous_3)","line":33,"loc":{"start":{"line":33,"column":24},"end":{"line":33,"column":40}}}},"statementMap":{"1":{"start":{"line":10,"column":0},"end":{"line":24,"column":1}},"2":{"start":{"line":11,"column":5},"end":{"line":23,"column":6}},"3":{"start":{"line":31,"column":0},"end":{"line":40,"column":1}},"4":{"start":{"line":32,"column":5},"end":{"line":32,"column":23}},"5":{"start":{"line":33,"column":5},"end":{"line":38,"column":8}},"6":{"start":{"line":34,"column":10},"end":{"line":34,"column":64}},"7":{"start":{"line":35,"column":10},"end":{"line":35,"column":102}},"8":{"start":{"line":36,"column":10},"end":{"line":36,"column":28}},"9":{"start":{"line":37,"column":10},"end":{"line":37,"column":33}},"10":{"start":{"line":39,"column":5},"end":{"line":39,"column":21}},"11":{"start":{"line":41,"column":0},"end":{"line":41,"column":42}}},"branchMap":{}};
}
__cov_xA6lvunLUkRqZFU$G92E2w = __cov_xA6lvunLUkRqZFU$G92E2w['app/settings/requests/page/batchUpsert.js'];
function Command(baseUrl,originalUrl,linkId,parentLink,requestId,link){__cov_xA6lvunLUkRqZFU$G92E2w.f['1']++;__cov_xA6lvunLUkRqZFU$G92E2w.s['2']++;return{'resolvedUrl':baseUrl,'url':originalUrl,'_id':linkId,'site':parentLink,'requestId':requestId,'status':'pending','__scan':{},'uid':input.user,'found':Date.now(),'scanned':null,'__link':link};}function createBulkUpdateCommands(linkObj,requestId,parentLink,foundLinks,baseUrl){__cov_xA6lvunLUkRqZFU$G92E2w.f['2']++;__cov_xA6lvunLUkRqZFU$G92E2w.s['4']++;var commands=[];__cov_xA6lvunLUkRqZFU$G92E2w.s['5']++;_.each(foundLinks,function(link){__cov_xA6lvunLUkRqZFU$G92E2w.f['3']++;__cov_xA6lvunLUkRqZFU$G92E2w.s['6']++;var linkId=sh.unique(link.url.original+requestId);__cov_xA6lvunLUkRqZFU$G92E2w.s['7']++;commands.push(new Command(baseUrl,link.url.original,linkId,parentLink,requestId,link));__cov_xA6lvunLUkRqZFU$G92E2w.s['8']++;link._id=linkId;__cov_xA6lvunLUkRqZFU$G92E2w.s['9']++;linkObj[linkId]=link;});__cov_xA6lvunLUkRqZFU$G92E2w.s['10']++;return commands;}__cov_xA6lvunLUkRqZFU$G92E2w.s['11']++;module.exports=createBulkUpdateCommands;
